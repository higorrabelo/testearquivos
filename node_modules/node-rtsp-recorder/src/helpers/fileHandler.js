const fs = require('fs')
const rimraf = require('rimraf')
const du = require('du')

var FileHandler = function(){}

FileHandler.prototype =  {
   createDirIfNotExists: function(path){
    if(!fs.existsSync(path)){
      var pathDown = path.split('\\')
        pathDown.pop()
      if(this.createDirIfNotExists(pathDown.join('\\'))){
        fs.mkdirSync(path)
        return true
      }
    }else{
      // console.log(`path ${path} existe`)
      return true;
    }
  },

  removeDirectory: function(folderPath, callback) {
    rimraf(folderPath, callback)
  },

  getDirectorySize: function(folderPath, callback) {
    du(folderPath, (err, size) => {
      callback(err, size)
    })
  }
}

module.exports = FileHandler
